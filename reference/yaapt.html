<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The Yet Another Algorithm for Pitch Tracking algorithm
(Kasi and Zahorian 2002)
 that computes
f0 using Normalized Cross Correlation (NCCF) and the work of Talkin
(Talkin and Kleijn 1995)
 in developing the RAPT
algorithm."><title>Compute f0 using the algorithm named Yet Another Algorithm for Pitch Tracking — yaapt • superassp</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute f0 using the algorithm named Yet Another Algorithm for Pitch Tracking — yaapt"><meta property="og:description" content="The Yet Another Algorithm for Pitch Tracking algorithm
(Kasi and Zahorian 2002)
 that computes
f0 using Normalized Cross Correlation (NCCF) and the work of Talkin
(Talkin and Kleijn 1995)
 in developing the RAPT
algorithm."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">superassp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Compute f0 using the algorithm named Yet Another Algorithm for Pitch Tracking</h1>
      
      <div class="d-none name"><code>yaapt.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The Yet Another Algorithm for Pitch Tracking algorithm
(Kasi and Zahorian 2002)
 that computes
f0 using Normalized Cross Correlation (NCCF) and the work of Talkin
(Talkin and Kleijn 1995)
 in developing the <a href="rapt.html">RAPT</a>
algorithm.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">yaapt</span><span class="op">(</span></span>
<span>  <span class="va">listOfFiles</span>,</span>
<span>  beginTime <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  endTime <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  windowShift <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  windowSize <span class="op">=</span> <span class="fl">35</span>,</span>
<span>  minF <span class="op">=</span> <span class="fl">70</span>,</span>
<span>  maxF <span class="op">=</span> <span class="fl">200</span>,</span>
<span>  tda_frame_length <span class="op">=</span> <span class="fl">35</span>,</span>
<span>  fft_length <span class="op">=</span> <span class="fl">8192</span>,</span>
<span>  bp_forder <span class="op">=</span> <span class="fl">150</span>,</span>
<span>  bp_low <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  bp_high <span class="op">=</span> <span class="fl">1500</span>,</span>
<span>  nlfer_thresh1 <span class="op">=</span> <span class="fl">0.75</span>,</span>
<span>  nlfer_thresh2 <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  shc_numharms <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  shc_window <span class="op">=</span> <span class="fl">40</span>,</span>
<span>  shc_maxpeaks <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  shc_pwidth <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  shc_thresh1 <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  shc_thresh2 <span class="op">=</span> <span class="fl">1.25</span>,</span>
<span>  f0_double <span class="op">=</span> <span class="fl">150</span>,</span>
<span>  f0_half <span class="op">=</span> <span class="fl">150</span>,</span>
<span>  dp5_k1 <span class="op">=</span> <span class="fl">11</span>,</span>
<span>  dec_factor <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  nccf_thresh1 <span class="op">=</span> <span class="fl">0.3</span>,</span>
<span>  nccf_thresh2 <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  nccf_maxcands <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  nccf_pwidth <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  merit_boost <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  merit_pivot <span class="op">=</span> <span class="fl">0.99</span>,</span>
<span>  merit_extra <span class="op">=</span> <span class="fl">0.4</span>,</span>
<span>  median_value <span class="op">=</span> <span class="fl">7</span>,</span>
<span>  dp_w1 <span class="op">=</span> <span class="fl">0.15</span>,</span>
<span>  dp_w2 <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  dp_w3 <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  dp_w4 <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  explicitExt <span class="op">=</span> <span class="st">"yf0"</span>,</span>
<span>  outputDirectory <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  toFile <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>listOfFiles</dt>
<dd><p>A vector of file paths to wav files.</p></dd>


<dt>beginTime</dt>
<dd><p>The start time of the section of the sound file that should be processed.</p></dd>


<dt>endTime</dt>
<dd><p>The end time of the section of the sound file that should be processed.</p></dd>


<dt>windowShift</dt>
<dd><p>The measurement interval (frame duration), in seconds.</p></dd>


<dt>windowSize</dt>
<dd><p>length of each analysis frame (default: 35 ms)</p></dd>


<dt>minF</dt>
<dd><p>Candidate f0 frequencies below this frequency will not be considered.</p></dd>


<dt>maxF</dt>
<dd><p>Candidates above this frequency will be ignored.</p></dd>


<dt>tda_frame_length</dt>
<dd><p>The frame length employed in the time domain analysis
(defaults to the same as windowSize 35 ms).</p></dd>


<dt>fft_length</dt>
<dd><p>FFT length (default: 8192 samples)</p></dd>


<dt>bp_forder</dt>
<dd><p>order of band-pass filter (default: 150)</p></dd>


<dt>bp_low</dt>
<dd><p>low frequency of filter passband (default: 50 Hz)</p></dd>


<dt>bp_high</dt>
<dd><p>high frequency of filter passband (default: 1500 Hz)</p></dd>


<dt>nlfer_thresh1</dt>
<dd><p>NLFER (Normalized Low Frequency Energy Ratio) boundary
for voiced/unvoiced decisions (default: 0.75)</p></dd>


<dt>nlfer_thresh2</dt>
<dd><p>threshold for NLFER definitely unvoiced (default: 0.1)</p></dd>


<dt>shc_numharms</dt>
<dd><p>number of harmonics in SHC (Spectral Harmonics
Correlation) calculation (default: 3)</p></dd>


<dt>shc_window</dt>
<dd><p>SHC window length (default: 40 Hz)</p></dd>


<dt>shc_maxpeaks</dt>
<dd><p>maximum number of SHC peaks to be found (default: 4)</p></dd>


<dt>shc_pwidth</dt>
<dd><p>window width in SHC peak picking (default: 50 Hz)</p></dd>


<dt>shc_thresh1</dt>
<dd><p>threshold 1 for SHC peak picking (default: 5)</p></dd>


<dt>shc_thresh2</dt>
<dd><p>threshold 2 for SHC peak picking (default: 1.25)</p></dd>


<dt>f0_double</dt>
<dd><p>pitch doubling decision threshold (default: 150 Hz)</p></dd>


<dt>f0_half</dt>
<dd><p>pitch halving decision threshold (default: 150 Hz)</p></dd>


<dt>dp5_k1</dt>
<dd><p>weight used in dynamic program (default: 11)</p></dd>


<dt>dec_factor</dt>
<dd><p>factor for signal resampling (default: 1)</p></dd>


<dt>nccf_thresh1</dt>
<dd><p>threshold for considering a peak in NCCF (Normalized
Cross Correlation Function) (default: 0.3)</p></dd>


<dt>nccf_thresh2</dt>
<dd><p>threshold for terminating search in NCCF (default: 0.9)</p></dd>


<dt>nccf_maxcands</dt>
<dd><p>maximum number of candidates found (default: 3)</p></dd>


<dt>nccf_pwidth</dt>
<dd><p>window width in NCCF peak picking (default: 5)</p></dd>


<dt>merit_boost</dt>
<dd><p>boost merit (default. 0.20)</p></dd>


<dt>merit_pivot</dt>
<dd><p>merit assigned to unvoiced candidates in definitely
unvoiced frames (default: 0.99)</p></dd>


<dt>merit_extra</dt>
<dd><p>merit assigned to extra candidates in reducing pitch
doubling/halving errors (default: 0.4)</p></dd>


<dt>median_value</dt>
<dd><p>order of medial filter (default: 7)</p></dd>


<dt>dp_w1</dt>
<dd><p>DP (Dynamic Programming) weight factor for voiced-voiced
transitions (default: 0.15)</p></dd>


<dt>dp_w2</dt>
<dd><p>DP weight factor for voiced-unvoiced or unvoiced-voiced
transitions (default: 0.5)</p></dd>


<dt>dp_w3</dt>
<dd><p>DP weight factor of unvoiced-unvoiced transitions (default: 0.1)</p></dd>


<dt>dp_w4</dt>
<dd><p>Weight factor for local costs (default: 0.9)</p></dd>


<dt>explicitExt</dt>
<dd><p>the file extension that should be used.</p></dd>


<dt>outputDirectory</dt>
<dd><p>set an explicit directory for where the signal file will be written. If not defined, the file will be written to the same directory as the sound file.</p></dd>


<dt>toFile</dt>
<dd><p>write the output to a file? The file will be written in  <code>outputDirectory</code>, if defined, or in the same directory as the soundfile.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An SSFF track object containing two tracks ("f0" and "voiced") which
contains the computed pitch values, and a binary (0 or 1) indication of
whether the frame was considered "voiced" (1)  or not (0). The tracks are
either returned (toFile == FALSE) or stored on disk.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The YAAPT algorithm processes the original acoustic signal and a non-linearly
processed version of the signal to partially restore very weak f0 components.
Intelligent peak picking to select multiple f0 candidates and assign merit
factors; and, incorporation of highly robust pitch contours obtained from
smoothed versions of low frequency portions of spectrograms. Dynamic
programming is used to find the “best” pitch track among all the candidates,
using both local and transition costs.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Kasi K, Zahorian SA (2002).
“Yet Another Algorithm for Pitch Tracking.”
<em>2002 IEEE International Conference on Acoustics, Speech, and Signal Processing</em>, <b>1</b>, I--361-I-364.
<a href="https://doi.org/10.1109/icassp.2002.5743729" class="external-link">doi:10.1109/icassp.2002.5743729</a>
.<br><br> Talkin D, Kleijn WB (1995).
“A robust algorithm for pitch tracking (RAPT).”
<em>Speech coding and synthesis</em>, <b>495</b>, 518.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Fredrik Karlsson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

