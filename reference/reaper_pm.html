<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='Robust Epoch And Pitch EstimatoR (REAPER) algorithm
(Talkin 2019)
 uses an EpochTracker class to
simultaneously estimate the location of voiced-speech "epochs" or glottal
closure instants (GCI), voicing state (voiced or unvoiced) and fundamental
frequency (F0 or "pitch"). This function returns the voicing state of each
windowed windowShift (ms) portion of the signal.'><title>Extract pitch marks using the REAPER algoritm — reaper_pm • superassp</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extract pitch marks using the REAPER algoritm — reaper_pm"><meta property="og:description" content='Robust Epoch And Pitch EstimatoR (REAPER) algorithm
(Talkin 2019)
 uses an EpochTracker class to
simultaneously estimate the location of voiced-speech "epochs" or glottal
closure instants (GCI), voicing state (voiced or unvoiced) and fundamental
frequency (F0 or "pitch"). This function returns the voicing state of each
windowed windowShift (ms) portion of the signal.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">superassp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Extract pitch marks using the REAPER algoritm</h1>
      
      <div class="d-none name"><code>reaper_pm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Robust Epoch And Pitch EstimatoR (REAPER) algorithm
(Talkin 2019)
 uses an EpochTracker class to
simultaneously estimate the location of voiced-speech "epochs" or glottal
closure instants (GCI), voicing state (voiced or unvoiced) and fundamental
frequency (F0 or "pitch"). This function returns the voicing state of each
windowed <code>windowShift</code> (ms) portion of the signal.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">reaper_pm</span><span class="op">(</span></span>
<span>  <span class="va">listOfFiles</span>,</span>
<span>  beginTime <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  endTime <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  windowShift <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  minF <span class="op">=</span> <span class="fl">40</span>,</span>
<span>  maxF <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  unvoiced_cost <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  high.pass <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  hilbert.transform <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  explicitExt <span class="op">=</span> <span class="st">"rpm"</span>,</span>
<span>  outputDirectory <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  toFile <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  conda.env <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>listOfFiles</dt>
<dd><p>A vector of file paths to wav files.</p></dd>


<dt>beginTime</dt>
<dd><p>The start time of the section of the sound file that should be processed.</p></dd>


<dt>endTime</dt>
<dd><p>The end time of the section of the sound file that should be processed.</p></dd>


<dt>windowShift</dt>
<dd><p>The measurement interval (frame duration), in seconds.</p></dd>


<dt>minF</dt>
<dd><p>Candidate f0 frequencies below this frequency will not be considered.</p></dd>


<dt>maxF</dt>
<dd><p>Candidates above this frequency will be ignored.</p></dd>


<dt>unvoiced_cost</dt>
<dd><p>Set the cost for unvoiced segments. Default is 0.9, the higher the value the more f0 estimates in noise.</p></dd>


<dt>high.pass</dt>
<dd><p>Perform high-pass filtering to remove DC and low-frequency noise?</p></dd>


<dt>hilbert.transform</dt>
<dd><p>Remove phase distortion using Hilbert transform?</p></dd>


<dt>explicitExt</dt>
<dd><p>the file extension that should be used.</p></dd>


<dt>outputDirectory</dt>
<dd><p>set an explicit directory for where the signal file will be written. If not defined, the file will be written to the same directory as the sound file.</p></dd>


<dt>toFile</dt>
<dd><p>write the output to a file? The file will be written in  <code>outputDirectory</code>, if defined, or in the same directory as the soundfile.</p></dd>


<dt>conda.env</dt>
<dd><p>The name of the conda environment in which Python and its
required packages are stored. Please make sure that you know what you are
doing if you change this. Defaults to <code>NULL</code>, which means that the default enviroment or the environment set in the
<code>RETICULATE_PYTHON</code> environment variable will be used.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An SSFF track object containing two tracks (f0 and corr) that are
either returned (toFile == FALSE) or stored on disk.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>DC bias and low-frequency noise are removed by high-pass filtering, and the
signal is converted to floating point. If the input is known to have phase
distortion that is impacting tracker performance, a Hilbert transform,
optionally done at this point, may improve performance.</p>
<p>The function uses the python library <code>pyreaper</code> combined with the R
package reticulate to compute the tracks, and the user therefore has to
make sure that <code>pyreaper</code> and python is available on the machine. It is
recommended to set up an anaconda ("conda") environment for the superassp
library, like this:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>conda create conda create <span class="sc">--</span>prefix <span class="sc">-</span>n pysuperassp python<span class="ot">=</span><span class="fl">3.8</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>conda activate pysuperassp </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>pip install librosa</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>pip install pyreaper </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Not used by</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>this <span class="cf">function</span> but by other functions <span class="cf">in</span> this package </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>pip install pysptk </span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Talkin D (2019).
“REAPER: Robust epoch and pitch estimator.”
<a href="https://github.com/google/REAPER" class="external-link">https://github.com/google/REAPER</a>.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Fredrik Karlsson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

